environments:
  default:
    values:
    - default.yaml

repositories:
- name: bitnami
  url: https://charts.bitnami.com/bitnami
- name: influxdata
  url: https://helm.influxdata.com/
- name: grafana
  url: https://grafana.github.io/helm-charts
- name: perfana
  url: https://perfana.github.io/perfana-helm-chart

helmDefaults:
    wait: true
    waitForJobs: true

releases:
- name: mysql
  chart: bitnami/mysql
  values:
    - mysql/values.yaml
  secrets:
  - mysql/secret-mysql.yaml

#- name: influxdb
#    chart: influxdata/influxdb
#    values:
#    - values_influxdb.yaml
#
- name: grafana
  chart: grafana/grafana
  needs:
  - mysql
  values:
  - grafana/values.yaml
  secrets:
  - grafana/secret-grafana.yaml

- name: mongodb
  chart: bitnami/mongodb
  values:
  - mongodb/values.yaml
  secrets:
  - mongodb/secret-mongo.yaml

- name: perfana
  chart: perfana/perfana
#   chart: ../perfana-helm-chart/charts/perfana
  needs:
  - mongodb
  - grafana
  values:
  - perfana/values.yaml
  secrets:
  - perfana/secret-perfana.yaml

